

Video Link here: https://www.youtube.com/watch?v=WkIW0YLoQEE&index=7&list=PLQVvvaa0QuDc-3szzjeP6N6b0aDrrKyL-
I'm having a difficult time with keeping the labels of the "State Name" columns in my code that has a "for loop" running through "indexed" data that the gentleman demonstrates through the video. I've noticed the tutorial is close to two years old, but I'm not entirely sure if some sort of patch or update is preventing my code from fully operating
import quandl
import pandas as pd
import pickle

api_key = open('C:\\Users\\TheSalt\\Documents\\{apicode}.txt','r').read()
fiddy_states=pd.read_html('https://simple.wikipedia.org/wiki/List_of_U.S._states')
#print (fiddy_states) 
main_df = pd.DataFrame() 
for abbv in fiddy_states[0][0][1:]:
   query ="FMAC/HPI_" + str(abbv)
   df = quandl.get(query, authtoken=api_key)
   if main_df.empty:
       main_df = df
   else:
       main_df = main_df.join(df, lsuffix= '.')

print (main_df)

Output:
A Snip It of the Output 
Any assistance is appreciated. 




pythonpandasfor-loopdataframequandl









Share


Improve this question



                        Follow
                        










edited Aug 15, 2017 at 22:49















            asked Aug 15, 2017 at 2:12






        user8350630user8350630







